<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Union Strike Folk Song</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>

  <body>
    <h1 id="title">Union Strike Folk Song</h1>

    <video
      src="https://www.cs.tufts.edu/comp/120/butwehavethepower.mp4"
      id="butwehavethepower"
      controls
    ></video>
    <div id="lyrics"></div>

    <script>
      const lines = [
        "",
        "Lisa: Come gather round, children",
        "It's high time ye learned",
        "'Bout a hero named Homer",
        "And a devil named Burns",
        "We'll march 'till we drop",
        "The girls and the fellas",
        "We'll fight 'till the death",
        "Or else fold like umbrellas",
        "So we'll march day and night",
        "By the big cooling tower",
        "They have the plant",
        "But we have the power",
        "Lenny: Now do 'Classical Gas!'",
      ];

      const video = document.querySelector("video");
      var currentLine = 0;

      video.addEventListener("timeupdate", () => {
        const currentTime = Math.round(video.currentTime);
        switch (true) {
          case currentTime > 5 && currentTime < 8:
            currentLine = 1;
            break;
          default:
            currentLine = 0;
        }
        document.getElementById("lyrics").innerHTML = lines[currentLine];
      });
    </script>
  </body>
</html>
